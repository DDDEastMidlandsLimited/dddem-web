"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8990],{8990:(e,r,t)=>{t.r(r),t.d(r,{default:()=>ea});var n,o=t(3857),s=t(3081),a=t.n(s),c=t(4232),i=t(8952),l=t(8681),d=t(9944),u=t(5794),f=t(9860),p=t(2969),b=t(5039),m=t.n(b),j=t(408),h=t(3836),y=t(4037),O=t(8787);function v(e){if((!n&&0!==n||e)&&h.A){var r=document.createElement("div");r.style.position="absolute",r.style.top="-9999px",r.style.width="50px",r.style.height="50px",r.style.overflow="scroll",document.body.appendChild(r),n=r.offsetWidth-r.clientWidth,document.body.removeChild(r)}return n}var g=t(5016),x=t(7622),w=t(1107),P=t(3673),N=t(4261),A=t(731),D=t(6855),E=t(7876),k=["className","bsPrefix","as"];function S(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var C=c.forwardRef(function(e,r){var t=e.className,n=e.bsPrefix,o=e.as,s=(0,f.A)(e,k);return n=(0,D.oU)(n,"modal-body"),(0,E.jsx)(void 0===o?"div":o,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?S(Object(t),!0).forEach(function(r){(0,p.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({ref:r,className:m()(t,n)},s))});C.displayName="ModalBody";var F=t(6357),I=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"];function R(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function L(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach(function(r){(0,p.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var M=c.forwardRef(function(e,r){var t=e.bsPrefix,n=e.className,o=e.contentClassName,s=e.centered,a=e.size,c=e.fullscreen,i=e.children,l=e.scrollable,d=(0,f.A)(e,I);t=(0,D.oU)(t,"modal");var u="".concat(t,"-dialog"),p="string"==typeof c?"".concat(t,"-fullscreen-").concat(c):"".concat(t,"-fullscreen");return(0,E.jsx)("div",L(L({},d),{},{ref:r,className:m()(u,n,a&&"".concat(t,"-").concat(a),s&&"".concat(u,"-centered"),l&&"".concat(u,"-scrollable"),c&&p),children:(0,E.jsx)("div",{className:m()("".concat(t,"-content"),o),children:i})}))});M.displayName="ModalDialog";var T=["className","bsPrefix","as"];function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var H=c.forwardRef(function(e,r){var t=e.className,n=e.bsPrefix,o=e.as,s=(0,f.A)(e,T);return n=(0,D.oU)(n,"modal-footer"),(0,E.jsx)(void 0===o?"div":o,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(Object(t),!0).forEach(function(r){(0,p.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({ref:r,className:m()(t,n)},s))});H.displayName="ModalFooter";var z=t(1473),B=["bsPrefix","className","closeLabel","closeButton"];function U(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function K(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?U(Object(t),!0).forEach(function(r){(0,p.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var W=c.forwardRef(function(e,r){var t=e.bsPrefix,n=e.className,o=e.closeLabel,s=e.closeButton,a=(0,f.A)(e,B);return t=(0,D.oU)(t,"modal-header"),(0,E.jsx)(z.A,K(K({ref:r},a),{},{className:m()(n,t),closeLabel:void 0===o?"Close":o,closeButton:void 0!==s&&s}))});W.displayName="ModalHeader";var V=t(5271),G=["className","bsPrefix","as"];function Q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var Y=(0,V.A)("h4"),q=c.forwardRef(function(e,r){var t=e.className,n=e.bsPrefix,o=e.as,s=(0,f.A)(e,G);return n=(0,D.oU)(n,"modal-title"),(0,E.jsx)(void 0===o?Y:o,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Q(Object(t),!0).forEach(function(r){(0,p.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({ref:r,className:m()(t,n)},s))});q.displayName="ModalTitle";var J=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","data-bs-theme","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function X(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Z(Object(t),!0).forEach(function(r){(0,p.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function $(e){return(0,E.jsx)(A.A,X(X({},e),{},{timeout:null}))}function ee(e){return(0,E.jsx)(A.A,X(X({},e),{},{timeout:null}))}var er=c.forwardRef(function(e,r){var t=e.bsPrefix,n=e.className,o=e.style,s=e.dialogClassName,a=e.contentClassName,i=e.children,l=e.dialogAs,d=void 0===l?M:l,p=e["data-bs-theme"],b=e["aria-labelledby"],A=e["aria-describedby"],k=e["aria-label"],S=e.show,C=e.animation,I=void 0===C||C,R=e.backdrop,L=void 0===R||R,T=e.keyboard,_=void 0===T||T,H=e.onEscapeKeyDown,z=e.onShow,B=e.onHide,U=e.container,K=e.autoFocus,W=e.enforceFocus,V=e.restoreFocus,G=e.restoreFocusOptions,Q=e.onEntered,Y=e.onExit,q=e.onExiting,Z=e.onEnter,er=e.onEntering,et=e.onExited,en=e.backdropClassName,eo=e.manager,es=(0,f.A)(e,J),ea=(0,c.useState)({}),ec=ea[0],ei=ea[1],el=(0,c.useState)(!1),ed=el[0],eu=el[1],ef=(0,c.useRef)(!1),ep=(0,c.useRef)(!1),eb=(0,c.useRef)(null),em=(0,c.useState)(null),ej=(0,u.A)(em,2),eh=ej[0],ey=ej[1],eO=(0,x.A)(r,ey),ev=(0,g.A)(B),eg=(0,D.Wz)();t=(0,D.oU)(t,"modal");var ex=(0,c.useMemo)(function(){return{onHide:ev}},[ev]);function ew(){return eo||(0,N.R)({isRTL:eg})}function eP(e){if(h.A){var r=ew().getScrollbarWidth()>0,t=e.scrollHeight>(0,y.A)(e).documentElement.clientHeight;ei({paddingRight:r&&!t?v():void 0,paddingLeft:!r&&t?v():void 0})}}var eN=(0,g.A)(function(){eh&&eP(eh.dialog)});let eA=function(e){let r=(0,c.useRef)(e);return r.current=e,r}(function(){(0,O.A)(window,"resize",eN),null==eb.current||eb.current()});(0,c.useEffect)(()=>()=>eA.current(),[]);var eD=function(){ef.current=!0},eE=function(e){ef.current&&eh&&e.target===eh.dialog&&(ep.current=!0),ef.current=!1},ek=function(){eu(!0),eb.current=(0,w.A)(eh.dialog,function(){eu(!1)})},eS=function(e){e.target===e.currentTarget&&ek()},eC=function(e){if("static"===L)return void eS(e);if(ep.current||e.target!==e.currentTarget){ep.current=!1;return}null==B||B()},eF=(0,c.useCallback)(function(e){return(0,E.jsx)("div",X(X({},e),{},{className:m()("".concat(t,"-backdrop"),en,!I&&"show")}))},[I,en,t]),eI=X(X({},o),ec);return eI.display="block",(0,E.jsx)(F.A.Provider,{value:ex,children:(0,E.jsx)(P.A,{show:void 0!==S&&S,ref:eO,backdrop:L,container:U,keyboard:!0,autoFocus:void 0===K||K,enforceFocus:void 0===W||W,restoreFocus:void 0===V||V,restoreFocusOptions:G,onEscapeKeyDown:function(e){_?null==H||H(e):(e.preventDefault(),"static"===L&&ek())},onShow:z,onHide:B,onEnter:function(e,r){e&&eP(e),null==Z||Z(e,r)},onEntering:function(e,r){null==er||er(e,r),(0,j.Ay)(window,"resize",eN)},onEntered:Q,onExit:function(e){null==eb.current||eb.current(),null==Y||Y(e)},onExiting:q,onExited:function(e){e&&(e.style.display=""),null==et||et(e),(0,O.A)(window,"resize",eN)},manager:ew(),transition:I?$:void 0,backdropTransition:I?ee:void 0,renderBackdrop:eF,renderDialog:function(e){return(0,E.jsx)("div",X(X({role:"dialog"},e),{},{style:eI,className:m()(n,t,ed&&"".concat(t,"-static"),!I&&"show"),onClick:L?eC:void 0,onMouseUp:eE,"data-bs-theme":p,"aria-label":k,"aria-labelledby":b,"aria-describedby":A,children:(0,E.jsx)(d,X(X({},es),{},{onMouseDown:eD,className:s,contentClassName:a,children:i}))}))}})})});er.displayName="Modal";let et=Object.assign(er,{Body:C,Header:W,Title:q,Footer:H,Dialog:M,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var en=t(7460),eo=t(1041),es=t(164);let ea=function(){var e,r=(0,c.useState)(!1),t=r[0],n=r[1],s=(0,c.useState)(!1),u=s[0],f=s[1],p=(0,c.useState)(!1),b=p[0],m=p[1],j=(0,c.useState)(!1),h=j[0],y=j[1],O=(0,c.useState)(!1),v=O[0],g=O[1],x=(0,c.useState)("unknown"),w=x[0],P=x[1];(0,c.useEffect)(function(){n((0,es.T_)()),f((0,es.Mg)()),P((0,es.ZI)());var e=function(e){e.preventDefault(),(0,es.Sd)(e),(0,es.x1)()||(0,es.T_)()||m(!0),(0,es.LF)("prompt_available")},r=function(){n(!0),m(!1),y(!1),(0,es.LF)("app_installed")};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",r),function(){window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",r)}},[]);var N=(e=(0,o.A)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,es.V8)()){e.next=3;break}return y(!0),e.abrupt("return");case 3:return g(!0),e.prev=4,e.next=7,(0,es.jL)();case 7:"accepted"===e.sent?((0,es.LF)("prompt_accepted"),m(!1)):(0,es.LF)("prompt_dismissed"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Install failed:",e.t0),(0,es.LF)("install_error",{error:e.t0.message});case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[4,11,15,18]])})),function(){return e.apply(this,arguments)}),A=function(){m(!1),(0,es.Au)()},D=function(){switch(w){case"android":case"ios":return eo.GrJ;default:return eo.ArK}},k=function(){switch(w){case"android":case"ios":return"Add to Home Screen";default:return"Install App"}};return t?null:(0,E.jsxs)(E.Fragment,{children:[b&&(0,E.jsx)("div",{className:"position-fixed bottom-0 start-0 end-0 p-3 d-md-none",style:{zIndex:1050},children:(0,E.jsxs)(i.A,{variant:"primary",className:"d-flex align-items-center justify-content-between mb-0 shadow",children:[(0,E.jsxs)("div",{className:"d-flex align-items-center",children:[(0,E.jsx)(en.g,{icon:D(),className:"me-2"}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{children:"Install DDD East Midlands"}),(0,E.jsx)("br",{}),(0,E.jsx)("small",{children:"Quick access from your home screen!"})]})]}),(0,E.jsxs)("div",{className:"d-flex gap-2",children:[(0,E.jsx)(l.A,{size:"sm",variant:"light",onClick:N,disabled:v,children:"Install"}),(0,E.jsx)(l.A,{size:"sm",variant:"outline-light",onClick:A,"aria-label":"Dismiss",children:(0,E.jsx)(en.g,{icon:eo.GRI})})]})]})}),(b||u)&&(0,E.jsxs)(d.A,{className:"mb-4 d-none d-md-block",children:[(0,E.jsx)(d.A.Header,{children:(0,E.jsxs)("h5",{className:"mb-0",children:[(0,E.jsx)(en.g,{icon:eo.cbP,className:"me-2"}),"Install DDD East Midlands App"]})}),(0,E.jsxs)(d.A.Body,{children:[(0,E.jsx)("p",{className:"mb-3",children:"Install the DDD East Midlands app for quick access, offline reading, and push notifications about new content and event updates."}),(0,E.jsxs)("div",{className:"d-flex gap-2 flex-wrap",children:[(0,E.jsxs)(l.A,{variant:"primary",onClick:N,disabled:v,children:[(0,E.jsx)(en.g,{icon:D(),className:"me-2"}),k()]}),(0,E.jsx)(l.A,{variant:"outline-secondary",onClick:function(){return y(!0)},children:"Learn More"}),b&&(0,E.jsx)(l.A,{variant:"outline-secondary",onClick:A,children:"Not Now"})]})]})]}),(0,E.jsxs)(et,{show:h,onHide:function(){return y(!1)},centered:!0,children:[(0,E.jsx)(et.Header,{closeButton:!0,children:(0,E.jsxs)(et.Title,{children:[(0,E.jsx)(en.g,{icon:D(),className:"me-2"}),"Install DDD East Midlands"]})}),(0,E.jsxs)(et.Body,{children:[(0,E.jsx)("h6",{children:"Benefits of Installing:"}),(0,E.jsxs)("ul",{className:"mb-4",children:[(0,E.jsx)("li",{children:"Quick access from your home screen or desktop"}),(0,E.jsx)("li",{children:"Offline reading of cached pages"}),(0,E.jsx)("li",{children:"Push notifications for new content and updates"}),(0,E.jsx)("li",{children:"App-like experience with full-screen browsing"}),(0,E.jsx)("li",{children:"Faster loading times"})]}),(0,E.jsx)("h6",{children:"How to Install:"}),(0,E.jsx)("p",{className:"mb-3",children:(0,es.DY)()}),(0,es.z6)()&&(0,es.V8)()&&(0,E.jsxs)(i.A,{variant:"info",children:[(0,E.jsx)(en.g,{icon:eo.cbP,className:"me-2"}),"Your browser supports automatic installation. Click the button below to install now!"]})]}),(0,E.jsxs)(et.Footer,{children:[(0,es.z6)()&&(0,es.V8)()&&(0,E.jsxs)(l.A,{variant:"primary",onClick:N,disabled:v,children:[(0,E.jsx)(en.g,{icon:D(),className:"me-2"}),v?"Installing...":k()]}),(0,E.jsx)(l.A,{variant:"secondary",onClick:function(){return y(!1)},children:"Close"})]})]})]})}}}]);